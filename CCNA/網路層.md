#CCNA #TCPIP模型

# 網路層在做什麼？
- 網路層對映到 OSI 模型的第 3 層，主要的作用就是在主機之間傳輸封包，同時盡可能降低對網路造成的負擔
- 傳輸層（OSI 第 4 層）負責管理每台主機上的程式之間的資料傳輸，而網路層協定則規定傳送資料時所使用的**封包結構**和**處理程序**。
- 在網路層工作時不用考慮封包裡面到底包什麼資料，所以這讓主機之間可以傳送多種類型的通訊傳送封包

# 主要程序
## 終端裝置定址
跟電話只有唯一的電話號碼一樣，終端裝置也要有唯一的 IP 位址，才能方便網路驗證；設有 IP 的終端裝置就稱為主機
## 封裝
網路層收到傳輸層的協定資料單元 (PDU) 後，網路層會再最前面再加上 IP 標頭資訊，例如來源（發送）和目的（接收）主機的 IP 位址；封裝完的資料就叫封包

## 路由的方式
- 把封包轉送到另一網域的目的主機是由網路層來處理的
- 路由器的作用就是幫封包選擇最佳路徑，並把它轉送至目的主機，這個程序就叫做路由
- 封包在到達目的主機的程序中經過的每個路由均稱作一跳
- 封包可能要經過很多中介裝置（[[CCNA/路由器]]）才能到達目的主機，合理值是在 20 跳以內；最後一跳的裝置會把封包丟掉，並且回傳一個封包告訴來源主機封包傳送失敗，沒有傳到目的主機

## 解封裝
- 當封包到達目的主機的網路層時，主機會檢查封包的 IP 標頭。如果標頭裡的目的 IP 位址跟自己的 IP 位址一樣，就把 IP 標頭從封包裡刪掉；這個程序叫解封裝
- 網路層解封裝封包後，後繼的第 4 層 PDU 會向上傳遞到傳輸層的適當服務

# 協定版本
目前常用的是
- Internet 協定第四版 ([[CCNA/IP]]v4)
- Internet 協定第六版 ([[CCNA/IP]]v6)

另外目前少見的還有
- Novell 互連網路封包交換 (IPX)
- AppleTalk
- 非連接導向網路服務 (CLNS/DECNet)


