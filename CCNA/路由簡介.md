#CCNA 

# 路由簡介
![](../img/Pasted%20image%2020201102103825.png)
- [[CCNA/路由器]]的主要功能是將封包轉發到目的地，從某一個介面接收到封包後，並將封包從另一介面發出去；這個介面可能是封包的目的地，也可能是跟另一台路由器相連，可能連到目的地的網路
- 路由器其中一個重要的工作，就是要把封包封裝成傳出資料鏈結所需的正確資料訊框類型
- 路由器是 L3 的設備，實質上是一種特殊的電腦，用來將不同的網段連接起來；也就是說，Internet 主要就是透過路由器來串連起來的
- 網段裡如果只有交換器就不用設預設匣道，因為沒有路由器設了也沒有用
- 一台路由器可以連接多個網段；也就是說，路由器的每個介面屬於不同的網段
- 當路由器從其中某個介面收到封包時，它會決定該封包要從那個介面轉發。

## 拓樸
### 實體拓樸
類似管路圖，便於識別設備的實際部位
### 邏輯拓樸
各裝備的設定值
## 成本估算
- 建置
- 維護：費用一般是設備的15%/年

## 可靠性
可靠性通常用**故障率**或**平均失效間隔時間(MTBF)**來衡量

# 路由的方式
## 本機可以把封包發給誰？
- 本機自己
> 127.0.0.1 是一個特殊的 IP，叫做迴路介面；可以用來測試網路層的功能是否正常。127.0.0.0/8 的所有主機都是指區網內的主機
- 區網內的主機
- 外網的遠端主機
> 如果封包丟到外網時，就要透過路由器來做路由。路由是指找到目的地最佳路徑的行為，由預設閘道就是區網本地的路由器

## 用戶端要怎麼知道封包有沒有到預設閘道呢？
`route print` 可以看本機的路由表，來看看封包傳送的狀況（[[CCNA/網路層]]）
### 直接連線
通到迴路介面 (127.0.0.1) 的路由
### 區網路由
直接加到本機的路由表
### 本地預設路由
這是所有要送到區網外的封包要用的路由；當設了預設閘道 IP 時，就會在路由表裡新增預設路由
- 預設閘道位址可以在本機自己手動設定，也可以讓它自己動態取得
- 預設路由跟預設閘道都是只有在封包要發到外網的時候才會用到的喔！

# 路由決策

## 封包在網段間怎麼交換


## 路徑決定

